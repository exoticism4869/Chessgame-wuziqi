<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>test server</title>
	</head>
	<body>
		<script>
			const ip = '10.177.147.149'
			const url = 'ws://' + ip + ':8001'
			const ws = new WebSocket(url)
			let players
			ws.addEventListener('open', () => {
				console.log('websocket connected!')
				// 连接成功后发送游戏名
				msg = {
					type: 0,
					name: 'exoticism'
				}
				ws.send(JSON.stringify(msg))
				console.log('name sended!')
			})
			ws.addEventListener('message', (msg) => {
				console.log('recieved msg:', msg)
				players = msg.players
			})
		</script>
	</body>
</html>
